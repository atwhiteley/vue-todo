{"remainingRequest":"/Users/andreasteiglandwhiteley/Repo/code/todo/node_modules/babel-loader/lib/index.js!/Users/andreasteiglandwhiteley/Repo/code/todo/node_modules/ts-loader/index.js??ref--13-2!/Users/andreasteiglandwhiteley/Repo/code/todo/src/store/index.ts","dependencies":[{"path":"/Users/andreasteiglandwhiteley/Repo/code/todo/src/store/index.ts","mtime":1580973289008},{"path":"/Users/andreasteiglandwhiteley/Repo/code/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreasteiglandwhiteley/Repo/code/todo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andreasteiglandwhiteley/Repo/code/todo/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMvYW5kcmVhc3RlaWdsYW5kd2hpdGVsZXkvUmVwby9jb2RlL3RvZG8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCB7IGxvYWRUb2Rvcywgc2F2ZVRvZG9zIH0gZnJvbSAnQC9zZXJ2aWNlL2xvY2FsU3RvcmFnZSc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdHJpY3Q6IHRydWUsCiAgc3RhdGU6IHsKICAgIG15VG9kb3M6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICB0b2RvczogZnVuY3Rpb24gdG9kb3Moc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm15VG9kb3M7CiAgICB9LAogICAgdW5jb21wbGV0ZWRUb2RvczogZnVuY3Rpb24gdW5jb21wbGV0ZWRUb2RvcyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubXlUb2Rvcy5maWx0ZXIoZnVuY3Rpb24gKHRvZG8pIHsKICAgICAgICByZXR1cm4gIXRvZG8uY29tcGxldGVkOwogICAgICB9KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgdG9nZ2xlQ29tcGxldGVkOiBmdW5jdGlvbiB0b2dnbGVDb21wbGV0ZWQoc3RhdGUsIGluZGV4KSB7CiAgICAgIHJldHVybiBzdGF0ZS5teVRvZG9zW2luZGV4XS5jb21wbGV0ZWQgPSAhc3RhdGUubXlUb2Rvc1tpbmRleF0uY29tcGxldGVkOwogICAgfSwKICAgIHJlbW92ZVRvZG86IGZ1bmN0aW9uIHJlbW92ZVRvZG8oc3RhdGUsIHZhbCkgewogICAgICAvLyBOYXJyb3cgdGhlIHR5cGUKICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICJudW1iZXIiKSB7CiAgICAgICAgc3RhdGUubXlUb2Rvcy5zcGxpY2UodmFsLCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaW5kZXggPSBzdGF0ZS5teVRvZG9zLmluZGV4T2YodmFsKTsKCiAgICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICAgIHN0YXRlLm15VG9kb3Muc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0gLy8gT3IgYnkgdXNpbmcgYSBjdXN0b20gdHlwZSBndWFyZAoKCiAgICAgIGlmIChpc1RvZG8odmFsKSkgey8vIEl0J3MgdGhlIG9iamVjdAogICAgICB9IGVsc2Ugey8vIGl0J3MgYW4gaW5kZXgKICAgICAgICB9CiAgICB9LAogICAgYWRkVG9kbzogZnVuY3Rpb24gYWRkVG9kbyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICByZXR1cm4gc3RhdGUubXlUb2Rvcy5wdXNoKHBheWxvYWQpOwogICAgfSwKICAgIHNldFRvZG9zOiBmdW5jdGlvbiBzZXRUb2RvcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5teVRvZG9zID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoY29udGV4dCkgewogICAgICB2YXIgdG9kb3MgPSBsb2FkVG9kb3MoKTsKCiAgICAgIGlmICh0b2RvcyAhPT0gbnVsbCkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRUb2RvcycsIHRvZG9zKTsKICAgICAgfQogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoY29udGV4dCkgewogICAgICBzYXZlVG9kb3MoY29udGV4dC5zdGF0ZS5teVRvZG9zKTsKICAgIH0KICB9Cn0pOwovKioKICogRXhhbXBsZSBjdXN0b20gdHlwZSBndWFyZC4KICovCgp2YXIgaXNUb2RvID0gZnVuY3Rpb24gaXNUb2RvKHRvZG8pIHsKICBpZiAoX3R5cGVvZih0b2RvKSA9PT0gIm9iamVjdCIpIHsKICAgIGlmICghdG9kbykgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuICd0ZXh0JyBpbiB0b2RvOwogIH0KCiAgcmV0dXJuIGZhbHNlOwp9Ow=="},{"version":3,"sources":["/Users/andreasteiglandwhiteley/Repo/code/todo/src/store/index.ts"],"names":[],"mappings":";;;;AAAA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,IAAP,MAAiB,MAAjB;AAEA,SAAS,SAAT,EAAoB,SAApB,QAAqC,wBAArC;AAEA,GAAG,CAAC,GAAJ,CAAQ,IAAR;AAEA,eAAe,IAAI,IAAI,CAAC,KAAT,CAAe;AAC5B,EAAA,MAAM,EAAE,IADoB;AAE5B,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AADJ,GAFqB;AAK5B,EAAA,OAAO,EAAE;AACP,IAAA,KAAK,EAAE,eAAA,KAAK;AAAA,aAAI,KAAK,CAAC,OAAV;AAAA,KADL;AAEP,IAAA,gBAAgB,EAAE,0BAAA,KAAK;AAAA,aAAI,KAAK,CAAC,OAAN,CAAc,MAAd,CAAqB,UAAA,IAAI;AAAA,eAAI,CAAC,IAAI,CAAC,SAAV;AAAA,OAAzB,CAAJ;AAAA;AAFhB,GALmB;AAS5B,EAAA,SAAS,EAAE;AACT,IAAA,eAAe,EAAE,yBAAC,KAAD,EAAQ,KAAR;AAAA,aAA0B,KAAK,CAAC,OAAN,CAAc,KAAd,EAAqB,SAArB,GAAiC,CAAC,KAAK,CAAC,OAAN,CAAc,KAAd,EAAqB,SAAjF;AAAA,KADR;AAET,IAAA,UAAU,EAAE,oBAAC,KAAD,EAAQ,GAAR,EAA8B;AACxC;AACA,UAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AAC3B,QAAA,KAAK,CAAC,OAAN,CAAc,MAAd,CAAqB,GAArB,EAA0B,CAA1B;AACD,OAFD,MAEO;AACL,YAAM,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,GAAtB,CAAd;;AACA,YAAI,KAAK,IAAI,CAAb,EAAgB;AACd,UAAA,KAAK,CAAC,OAAN,CAAc,MAAd,CAAqB,KAArB,EAA4B,CAA5B;AACD;AACF,OATuC,CAWxC;;;AACA,UAAI,MAAM,CAAC,GAAD,CAAV,EAAiB,CACf;AACD,OAFD,MAEO,CACL;AACD;AACF,KAnBQ;AAoBT,IAAA,OAAO,EAAE,iBAAC,KAAD,EAAQ,OAAR;AAAA,aAA0B,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB,OAAnB,CAA1B;AAAA,KApBA;AAqBT,IAAA,QAAQ,EAAE,kBAAC,KAAD,EAAQ,OAAR,EAA2B;AACnC,MAAA,KAAK,CAAC,OAAN,GAAgB,OAAhB;AACD;AAvBQ,GATiB;AAkC5B,EAAA,OAAO,EAAE;AACP,IAAA,IAAI,EAAE,cAAC,OAAD,EAAY;AAChB,UAAM,KAAK,GAAG,SAAS,EAAvB;;AACA,UAAI,KAAK,KAAK,IAAd,EAAoB;AAClB,QAAA,OAAO,CAAC,MAAR,CAAe,UAAf,EAA2B,KAA3B;AACD;AACF,KANM;AAOP,IAAA,IAAI,EAAE,cAAA,OAAO,EAAG;AACd,MAAA,SAAS,CAAC,OAAO,CAAC,KAAR,CAAc,OAAf,CAAT;AACD;AATM;AAlCmB,CAAf,CAAf;AA+CA;;;;AAGA,IAAM,MAAM,GAAG,SAAT,MAAS,CAAC,IAAD,EAAgC;AAC7C,MAAI,QAAO,IAAP,MAAgB,QAApB,EAA8B;AAC5B,QAAI,CAAC,IAAL,EACE,OAAO,KAAP;AACF,WAAO,UAAU,IAAjB;AACD;;AACD,SAAO,KAAP;AACD,CAPD","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { Todo } from '@/model/todo-model'\nimport { loadTodos, saveTodos } from '@/service/localStorage'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  strict: true,\n  state: {\n    myTodos: [] as Todo[],\n  },\n  getters: {\n    todos: state => state.myTodos,\n    uncompletedTodos: state => state.myTodos.filter(todo => !todo.completed),\n  },\n  mutations: {\n    toggleCompleted: (state, index: number) => state.myTodos[index].completed = !state.myTodos[index].completed,\n    removeTodo: (state, val: number | Todo) => {\n      // Narrow the type\n      if (typeof val === \"number\") {\n        state.myTodos.splice(val, 1);\n      } else {\n        const index = state.myTodos.indexOf(val);\n        if (index >= 0) {\n          state.myTodos.splice(index, 1);\n        } \n      }\n\n      // Or by using a custom type guard\n      if (isTodo(val)) {\n        // It's the object\n      } else {\n        // it's an index\n      }\n    },\n    addTodo: (state, payload: Todo) => state.myTodos.push(payload),\n    setTodos: (state, payload: Todo[]) => {\n      state.myTodos = payload;\n    }\n  },\n  actions: {\n    load: (context) => {\n      const todos = loadTodos();\n      if (todos !== null) {\n        context.commit('setTodos', todos);\n      }\n    },\n    save: context => {\n      saveTodos(context.state.myTodos);\n    }\n  }\n})\n\n/**\n * Example custom type guard.\n */\nconst isTodo = (todo: unknown): todo is Todo => {\n  if (typeof todo === \"object\") {\n    if (!todo)\n      return false;\n    return 'text' in todo;\n  }\n  return false;\n}\n"],"sourceRoot":""}]}